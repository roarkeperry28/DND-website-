:root {
  --bg: #050509;
  --bg-alt: #101018;
  --accent: #e4572e;
  --accent-soft: rgba(228, 87, 46, 0.2);
  --text: #f5f5f7;
  --muted: #a0a3b1;
  --card: #151522;
  --border: #24243a;
  --shadow: 0 18px 45px rgba(0, 0, 0, 0.7);
  --radius-lg: 18px;
  --radius-sm: 10px;
  --gap: 1.5rem;
  --font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-main);
  background: radial-gradient(circle at top, var(--bg-alt) 0, var(--bg) 55%);
  color: var(--text);
  line-height: 1.5;
  scroll-behavior: smooth;
}

a {
  color: inherit;
  text-decoration: none;
}

img {
  max-width: 100%;
  display: block;
}

/* Layout */

header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 120; /* FIXED TO STAY ABOVE HERO IMAGE */
  backdrop-filter: blur(18px);
  background: linear-gradient(to bottom, rgba(5,5,9,0.92), rgba(5,5,9,0.65));
  border-bottom: 1px solid rgba(255,255,255,0.04);
}

.nav-inner {
  max-width: 1120px;
  margin: 0 auto;
  padding: 0.8rem 1.2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
}

.logo {
  font-weight: 700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
}

.logo span {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--accent);
  box-shadow: 0 0 18px rgba(228, 87, 46, 0.8);
}

/* Theme toggle button in header */

.theme-toggle {
  border-radius: 999px;
  padding: 0.4rem 0.9rem;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,10,18,0.95);
  color: var(--muted);
  font-size: 0.78rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  cursor: pointer;
  margin-right: 0.4rem;
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease, transform 0.1s ease;
}

.theme-toggle::before {
  content: "●";
  font-size: 0.7rem;
  color: var(--accent);
}

.theme-toggle:hover {
  transform: translateY(-1px);
  border-color: var(--accent);
  color: var(--text);
}

/* Desktop nav */

.main-nav ul {
  list-style: none;
  display: flex;
  gap: 1.4rem;
  font-size: 0.9rem;
}

.main-nav a {
  color: var(--muted);
  padding-bottom: 0.2rem;
  border-bottom: 2px solid transparent;
  transition: color 0.2s ease, border-color 0.2s ease;
}

.main-nav a:hover {
  color: var(--text);
  border-color: var(--accent);
}

/* --- Mobile nav toggle (hamburger) --- */

.nav-toggle {
  display: none; /* hidden on desktop */
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  width: 32px;
  height: 26px;
  position: relative;
  z-index: 200; /* stays above hero image */
}

.nav-toggle-bar {
  position: absolute;
  left: 0;
  right: 0;
  height: 3px;
  border-radius: 999px;
  background: var(--muted);
  transition: transform 0.2s ease, opacity 0.2s ease, background 0.2s ease;
}

.nav-toggle-bar:nth-child(1) {
  top: 3px;
}

.nav-toggle-bar:nth-child(2) {
  top: 11px;
}

.nav-toggle-bar:nth-child(3) {
  top: 19px;
}

.nav-open .nav-toggle-bar:nth-child(1) {
  transform: translateY(8px) rotate(45deg);
}

.nav-open .nav-toggle-bar:nth-child(2) {
  opacity: 0;
}

.nav-open .nav-toggle-bar:nth-child(3) {
  transform: translateY(-8px) rotate(-45deg);
}

main {
  margin-top: 60px;
}

section {
  max-width: 1120px;
  margin: 0 auto;
  padding: 3.5rem 1.2rem;
}

section h2 {
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

section p.section-subtitle {
  color: var(--muted);
  max-width: 620px;
  font-size: 0.95rem;
}

/* Hero */

.hero {
  max-width: none;
  padding: 0;
}

.hero-inner {
  position: relative;
  min-height: 82vh;
  display: grid;
  grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
  gap: 0;
  background: radial-gradient(circle at top, #3a1111 0, #050509 60%);
  color: var(--text);
}

.hero-image {
  position: relative;
  overflow: hidden;
  will-change: transform; /* PARALLAX OPTIMIZED */
}

.hero-image::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at bottom, transparent 0, rgba(5,5,9,0.7) 80%);
}

.hero-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: saturate(1.2) contrast(1.1);
}

.hero-content {
  padding: 4.5rem 2.5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 1.4rem;
}

/* Party, loot, locations, recap — unchanged */

/* ----------------------------------------------------
   AMBIENT BACKGROUND EFFECTS (BRIGHTER VERSION)
---------------------------------------------------- */

.ambient-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  will-change: transform; /* PARALLAX OPTIMIZED */
}

/* Keep content above ambient layer */
body > *:not(.ambient-layer):not(header) {
  position: relative;
  z-index: 1;
}

/* Floating / drifting animation */
@keyframes floatParticle {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0.35;
  }
  50% {
    opacity: 0.85;
  }
  100% {
    transform: translateY(-120px) translateX(20px);
    opacity: 0.2;
  }
}

/* ---------- DEFAULT MODE — Dust (AMPLIFIED) ---------- */
body:not(.theme-infernal):not(.theme-shadow) .ambient-layer::before {
  content: "";
  position: absolute;
  width: 4px;
  height: 4px;
  border-radius: 50%;
  background: rgba(240, 240, 255, 0.7); /* brighter */

  box-shadow:
    20vw 80vh 8px rgba(240,240,255,0.7),
    60vw 50vh 6px rgba(240,240,255,0.6),
    80vw 90vh 7px rgba(240,240,255,0.55),
    10vw 30vh 5px rgba(240,240,255,0.5),
    50vw 70vh 6px rgba(240,240,255,0.5),
    30vw 60vh 7px rgba(240,240,255,0.5),
    70vw 20vh 6px rgba(240,240,255,0.55),
    90vw 40vh 6px rgba(240,240,255,0.55);

  animation: floatParticle 20s linear infinite;
  filter: blur(1px);
}

/* ---------- INFERNAL MODE — Embers (AMPLIFIED) ---------- */
body.theme-infernal .ambient-layer::before {
  content: "";
  position: absolute;
  width: 5px;
  height: 5px;
  border-radius: 50%;
  background: rgba(255,120,60,0.85);

  box-shadow:
    10vw 85vh 10px rgba(255,120,60,0.85),
    40vw 90vh 8px rgba(255,80,40,0.75),
    70vw 75vh 8px rgba(255,120,60,0.75),
    20vw 60vh 7px rgba(255,100,50,0.8),
    55vw 30vh 9px rgba(255,140,70,0.75),
    85vw 65vh 8px rgba(255,80,40,0.8),
    30vw 40vh 9px rgba(255,100,50,0.75);

  animation: floatParticle 14s linear infinite;
  filter: blur(1px);
}

/* ---------- SHADOW MODE — Silk strands (unchanged) ---------- */
body.theme-shadow .ambient-layer::before {
  content: "";
  position: absolute;
  width: 2px;
  height: 30px;
  background: rgba(180,160,255,0.35);

  box-shadow:
    12vw 10vh rgba(180,160,255,0.35),
    45vw 40vh rgba(180,160,255,0.35),
    70vw 25vh rgba(180,160,255,0.35),
    20vw 65vh rgba(180,160,255,0.35),
    80vw 70vh rgba(180,160,255,0.35),
    35vw 90vh rgba(180,160,255,0.35);

  animation: floatParticle 18s linear infinite;
  filter: blur(0.7px);
}

/* Responsive */

@media (max-width: 900px) {
  .hero-inner {
    grid-template-columns: minmax(0, 1fr);
  }

  .hero-image {
    min-height: 46vh;
  }

  .hero-content {
    padding: 2.6rem 1.5rem 3rem;
  }

  .nav-inner {
    gap: 0.6rem;
  }

  .nav-toggle {
    display: block;
  }

  .main-nav ul {
    position: absolute;
    top: 100%;
    right: 1.2rem;
    margin-top: 0.6rem;
    padding: 0.7rem 0.9rem;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.08);
    background: rgba(5,5,12,0.98);
    box-shadow: var(--shadow);
    flex-direction: column;
    gap: 0.4rem;
    min-width: 170px;
    display: none;
  }

  .nav-open .main-nav ul {
    display: flex;
  }

  .main-nav a {
    font-size: 0.85rem;
    padding: 0.2rem 0.1rem;
    border-bottom: none;
  }
}

@media (max-width: 640px) {
  .hero-buttons {
    flex-direction: column;
    align-items: flex-start;
  }
  section {
    padding-inline: 1rem;
  }
}
